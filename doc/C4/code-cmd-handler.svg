<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="3144.2953px" preserveAspectRatio="none" style="width:2501px;height:3144px;background:#EEEEEE;" version="1.1" viewBox="0 0 2501 3144" width="2501.6779px" zoomAndPan="magnify"><defs/><g><rect fill="#EEEEEE" height="3144.2953" style="stroke:none;stroke-width:1.6778523489932884;" width="2501.6779" x="0" y="0"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" font-weight="bold" lengthAdjust="spacing" textLength="328.8591" x="1079.698" y="47.8778">Code - Command handling</text><rect fill="#FFFFFF" height="201.1129" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="203.0201" y="367.217"/><rect fill="#FFFFFF" height="100.5564" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="412.7517" y="467.7734"/><rect fill="#FFFFFF" height="99.5143" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="412.7517" y="2645.6618"/><rect fill="#FFFFFF" height="2131.174" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="714.7651" y="759.3396"/><rect fill="#FFFFFF" height="50.3356" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="723.1544" y="2694.8406"/><rect fill="#FFFFFF" height="2131.174" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="972.3154" y="759.3396"/><rect fill="#FFFFFF" height="1936.1367" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1233.2215" y="905.1981"/><rect fill="#FFFFFF" height="49.1788" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1486.5772" y="954.3768"/><rect fill="#FFFFFF" height="49.1788" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1486.5772" y="1454.5538"/><rect fill="#FFFFFF" height="49.1788" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1486.5772" y="2437.2018"/><rect fill="#FFFFFF" height="213.4936" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1656.8792" y="1613.8351"/><rect fill="#FFFFFF" height="49.1788" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1808.7248" y="2068.8247"/><rect fill="#FFFFFF" height="1600.7957" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1991.6107" y="1217.0492"/><rect fill="#FFFFFF" height="596.8566" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2000" y="1266.228"/><rect fill="#FFFFFF" height="262.6724" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2000" y="2298.0547"/><rect fill="#FFFFFF" height="197.8719" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2000" y="2596.4831"/><rect fill="#FFFFFF" height="147.5363" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2216.443" y="1405.375"/><rect fill="#FFFFFF" height="147.5363" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2216.443" y="2388.023"/><rect fill="#FFFFFF" height="1551.6169" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2406.8792" y="1266.228"/><rect fill="none" height="225.7596" style="stroke:#000000;stroke-width:2.5167785234899327;" width="954.698" x="1394.2953" y="1340.5745"/><rect fill="none" height="127.4021" style="stroke:#000000;stroke-width:2.5167785234899327;" width="538.5906" x="1578.8591" y="1688.1816"/><rect fill="none" height="225.7596" style="stroke:#000000;stroke-width:2.5167785234899327;" width="954.698" x="1394.2953" y="2323.2225"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="53.6913" x2="53.6913" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="53.6913" x2="53.6913" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="53.6913" x2="53.6913" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="210.5705" x2="210.5705" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="210.5705" x2="210.5705" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="210.5705" x2="210.5705" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="421.1409" x2="421.1409" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="421.1409" x2="421.1409" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="421.1409" x2="421.1409" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="722.3154" x2="722.3154" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="722.3154" x2="722.3154" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="722.3154" x2="722.3154" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="980.7047" x2="980.7047" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="980.7047" x2="980.7047" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="980.7047" x2="980.7047" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="1240.7718" x2="1240.7718" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="1240.7718" x2="1240.7718" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="1240.7718" x2="1240.7718" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="1494.9664" x2="1494.9664" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="1494.9664" x2="1494.9664" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="1494.9664" x2="1494.9664" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="1664.4295" x2="1664.4295" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="1664.4295" x2="1664.4295" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="1664.4295" x2="1664.4295" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="1817.1141" x2="1817.1141" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="1817.1141" x2="1817.1141" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="1817.1141" x2="1817.1141" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="2000" x2="2000" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="2000" x2="2000" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="2000" x2="2000" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="2224.8322" x2="2224.8322" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="2224.8322" x2="2224.8322" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="2224.8322" x2="2224.8322" y1="672.206" y2="2920.7149"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="2414.4295" x2="2414.4295" y1="263.3048" y2="581.7527"/><line style="stroke:#A80036;stroke-width:1.6778523489932884;stroke-dasharray:1.0,4.0;" x1="2414.4295" x2="2414.4295" y1="581.7527" y2="672.206"/><line style="stroke:#181818;stroke-width:0.8389261744966442;stroke-dasharray:5.0,5.0;" x1="2414.4295" x2="2414.4295" y1="672.206" y2="2920.7149"/><rect fill="#E2E2F0" height="51.1548" rx="4.1946" ry="4.1946" style="stroke:#181818;stroke-width:0.8389261744966442;" width="90.604" x="8.3893" y="210.4722"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="67.1141" x="20.1342" y="244.9271">Client</text><rect fill="#E2E2F0" height="51.1548" rx="4.1946" ry="4.1946" style="stroke:#181818;stroke-width:0.8389261744966442;" width="90.604" x="8.3893" y="2919.0371"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="67.1141" x="20.1342" y="2953.492">Client</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="36.9128" x="187.9195" y="258.3499">API</text><path d="M177.0134,188.6601 L177.0134,228.9285 M177.0134,208.7943 L205.5369,208.7943 " fill="none" style="stroke:#181818;stroke-width:0.8389261744966442;"/><ellipse cx="225.6711" cy="208.7943" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="36.9128" x="187.9195" y="2941.7471">API</text><path d="M177.0134,2953.4134 L177.0134,2993.6818 M177.0134,2973.5476 L205.5369,2973.5476 " fill="none" style="stroke:#181818;stroke-width:0.8389261744966442;"/><ellipse cx="225.6711" cy="2973.5476" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="191.2752" x="320.4698" y="175.3552">[Ports/Adapters]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="412.7517" y="203.0201">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="145.9732" x="343.1208" y="230.685">Message Bus</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="92.2819" x="369.9664" y="258.3499">Adapter</text><ellipse cx="421.1409" cy="125.7996" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><polygon fill="#181818" points="414.4295,105.6654,424.4966,97.2761,421.1409,105.6654,424.4966,114.0546,414.4295,105.6654" style="stroke:#181818;stroke-width:1.6778523489932884;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="191.2752" x="320.4698" y="2941.7471">[Ports/Adapters]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="412.7517" y="2969.412">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="145.9732" x="343.1208" y="2997.0769">Message Bus</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="92.2819" x="369.9664" y="3024.7418">Adapter</text><ellipse cx="421.1409" cy="3056.5423" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><polygon fill="#181818" points="414.4295,3036.4081,424.4966,3028.0188,421.1409,3036.4081,424.4966,3044.7973,414.4295,3036.4081" style="stroke:#181818;stroke-width:1.6778523489932884;"/><path d="M641.7785,218.8614 L804.5302,218.8614 C812.9195,218.8614 812.9195,241.0831 812.9195,241.0831 C812.9195,241.0831 812.9195,263.3048 804.5302,263.3048 L641.7785,263.3048 C633.3893,263.3048 633.3893,241.0831 633.3893,241.0831 C633.3893,241.0831 633.3893,218.8614 641.7785,218.8614 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.8389261744966442;"/><path d="M804.5302,218.8614 C796.1409,218.8614 796.1409,241.0831 796.1409,241.0831 C796.1409,263.3048 804.5302,263.3048 804.5302,263.3048 " fill="none" style="stroke:#181818;stroke-width:0.8389261744966442;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="145.9732" x="641.7785" y="249.9607">Message Bus</text><path d="M641.7785,2919.0371 L804.5302,2919.0371 C812.9195,2919.0371 812.9195,2941.2588 812.9195,2941.2588 C812.9195,2941.2588 812.9195,2963.4805 804.5302,2963.4805 L641.7785,2963.4805 C633.3893,2963.4805 633.3893,2941.2588 633.3893,2941.2588 C633.3893,2941.2588 633.3893,2919.0371 641.7785,2919.0371 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.8389261744966442;"/><path d="M804.5302,2919.0371 C796.1409,2919.0371 796.1409,2941.2588 796.1409,2941.2588 C796.1409,2963.4805 804.5302,2963.4805 804.5302,2963.4805 " fill="none" style="stroke:#181818;stroke-width:0.8389261744966442;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="145.9732" x="641.7785" y="2950.1363">Message Bus</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="291.9463" x="829.698" y="203.0201">[Application.MassTransit]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="972.3154" y="230.685">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="224.8322" x="863.255" y="258.3499">Message Consumer</text><ellipse cx="980.7047" cy="153.4645" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><polygon fill="#181818" points="973.9933,133.3303,984.0604,124.941,980.7047,133.3303,984.0604,141.7195,973.9933,133.3303" style="stroke:#181818;stroke-width:1.6778523489932884;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="291.9463" x="829.698" y="2941.7471">[Application.MassTransit]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="972.3154" y="2969.412">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="224.8322" x="863.255" y="2997.0769">Message Consumer</text><ellipse cx="980.7047" cy="3028.8774" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><polygon fill="#181818" points="973.9933,3008.7432,984.0604,3000.3539,980.7047,3008.7432,984.0604,3017.1324,973.9933,3008.7432" style="stroke:#181818;stroke-width:1.6778523489932884;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="147.651" x="1162.7517" y="147.6903">[Application]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1233.2215" y="175.3552">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="87.2483" x="1192.953" y="203.0201">Generic</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="176.1745" x="1148.4899" y="230.685">Command DTO</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="88.9262" x="1192.1141" y="258.3499">handler</text><ellipse cx="1241.6107" cy="98.1347" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><polygon fill="#181818" points="1234.8993,78.0005,1244.9664,69.6112,1241.6107,78.0005,1244.9664,86.3897,1234.8993,78.0005" style="stroke:#181818;stroke-width:1.6778523489932884;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="147.651" x="1162.7517" y="2941.7471">[Application]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1233.2215" y="2969.412">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="87.2483" x="1192.953" y="2997.0769">Generic</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="176.1745" x="1148.4899" y="3024.7418">Command DTO</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="88.9262" x="1192.1141" y="3052.4067">handler</text><ellipse cx="1241.6107" cy="3084.2072" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><polygon fill="#181818" points="1234.8993,3064.073,1244.9664,3055.6837,1241.6107,3064.073,1244.9664,3072.4622,1234.8993,3064.073" style="stroke:#181818;stroke-width:1.6778523489932884;"/><rect fill="#E2E2F0" height="106.4846" rx="4.1946" ry="4.1946" style="stroke:#181818;stroke-width:0.8389261744966442;" width="167.7852" x="1411.0738" y="155.1424"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="105.7047" x="1442.1141" y="189.5973">[Domain]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1491.6107" y="217.2622">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="144.2953" x="1422.8188" y="244.9271">DTO Mapper</text><rect fill="#E2E2F0" height="106.4846" rx="4.1946" ry="4.1946" style="stroke:#181818;stroke-width:0.8389261744966442;" width="167.7852" x="1411.0738" y="2919.0371"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="105.7047" x="1442.1141" y="2953.492">[Domain]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1491.6107" y="2981.1569">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="144.2953" x="1422.8188" y="3008.8218">DTO Mapper</text><rect fill="#E2E2F0" height="134.1495" rx="4.1946" ry="4.1946" style="stroke:#181818;stroke-width:0.8389261744966442;" width="139.2617" x="1595.6376" y="127.4775"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="105.7047" x="1612.4161" y="161.9324">[Domain]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1661.9128" y="189.5973">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="57.047" x="1636.745" y="217.2622">State</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="115.7718" x="1607.3826" y="244.9271">Projection</text><rect fill="#E2E2F0" height="134.1495" rx="4.1946" ry="4.1946" style="stroke:#181818;stroke-width:0.8389261744966442;" width="139.2617" x="1595.6376" y="2919.0371"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="105.7047" x="1612.4161" y="2953.492">[Domain]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1661.9128" y="2981.1569">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="57.047" x="1636.745" y="3008.8218">State</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="115.7718" x="1607.3826" y="3036.4867">Projection</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="105.7047" x="1759.2282" y="203.0201">[Domain]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1808.7248" y="230.685">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="120.8054" x="1751.6779" y="258.3499">Aggregate</text><ellipse cx="1817.1141" cy="153.4645" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><line style="stroke:#181818;stroke-width:0.8389261744966442;" x1="1796.9799" x2="1837.2483" y1="176.9544" y2="176.9544"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="105.7047" x="1759.2282" y="2941.7471">[Domain]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1808.7248" y="2969.412">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="120.8054" x="1751.6779" y="2997.0769">Aggregate</text><ellipse cx="1817.1141" cy="3028.8774" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><line style="stroke:#181818;stroke-width:0.8389261744966442;" x1="1796.9799" x2="1837.2483" y1="3052.3673" y2="3052.3673"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="191.2752" x="1899.3289" y="175.3552">[Ports/Adapters]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1991.6107" y="203.0201">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="122.4832" x="1933.7248" y="230.685">EventStore</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="92.2819" x="1948.8255" y="258.3499">Adapter</text><ellipse cx="2000" cy="125.7996" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><polygon fill="#181818" points="1993.2886,105.6654,2003.3557,97.2761,2000,105.6654,2003.3557,114.0546,1993.2886,105.6654" style="stroke:#181818;stroke-width:1.6778523489932884;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="191.2752" x="1899.3289" y="2941.7471">[Ports/Adapters]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="1991.6107" y="2969.412">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="122.4832" x="1933.7248" y="2997.0769">EventStore</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="92.2819" x="1948.8255" y="3024.7418">Adapter</text><ellipse cx="2000" cy="3056.5423" fill="#E2E2F0" rx="20.1342" ry="20.1342" style="stroke:#181818;stroke-width:0.8389261744966442;"/><polygon fill="#181818" points="1993.2886,3036.4081,2003.3557,3028.0188,2000,3036.4081,2003.3557,3044.7973,1993.2886,3036.4081" style="stroke:#181818;stroke-width:1.6778523489932884;"/><rect fill="#E2E2F0" height="134.1495" rx="4.1946" ry="4.1946" style="stroke:#181818;stroke-width:0.8389261744966442;" width="214.7651" x="2117.4497" y="127.4775"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="191.2752" x="2129.1946" y="161.9324">[Ports/Adapters]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="2221.4765" y="189.5973">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="122.4832" x="2163.5906" y="217.2622">EventStore</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="156.0403" x="2146.8121" y="244.9271">Event Mapper</text><rect fill="#E2E2F0" height="134.1495" rx="4.1946" ry="4.1946" style="stroke:#181818;stroke-width:0.8389261744966442;" width="214.7651" x="2117.4497" y="2919.0371"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="191.2752" x="2129.1946" y="2953.492">[Ports/Adapters]</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="6.7114" x="2221.4765" y="2981.1569">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="122.4832" x="2163.5906" y="3008.8218">EventStore</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="156.0403" x="2146.8121" y="3036.4867">Event Mapper</text><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="122.4832" x="2348.9933" y="258.3499">EventStore</text><path d="M2385.0671,175.2373 C2385.0671,158.4587 2415.2685,158.4587 2415.2685,158.4587 C2415.2685,158.4587 2445.4698,158.4587 2445.4698,175.2373 L2445.4698,218.8614 C2445.4698,235.6399 2415.2685,235.6399 2415.2685,235.6399 C2415.2685,235.6399 2385.0671,235.6399 2385.0671,218.8614 L2385.0671,175.2373 " fill="#E2E2F0" style="stroke:#181818;stroke-width:2.5167785234899327;"/><path d="M2385.0671,175.2373 C2385.0671,192.0158 2415.2685,192.0158 2415.2685,192.0158 C2415.2685,192.0158 2445.4698,192.0158 2445.4698,175.2373 " fill="none" style="stroke:#181818;stroke-width:2.5167785234899327;"/><text fill="#000000" font-family="D-DIN" font-size="23.4899" lengthAdjust="spacing" textLength="122.4832" x="2348.9933" y="2941.7471">EventStore</text><path d="M2385.0671,2963.4805 C2385.0671,2946.702 2415.2685,2946.702 2415.2685,2946.702 C2415.2685,2946.702 2445.4698,2946.702 2445.4698,2963.4805 L2445.4698,3007.1047 C2445.4698,3023.8832 2415.2685,3023.8832 2415.2685,3023.8832 C2415.2685,3023.8832 2385.0671,3023.8832 2385.0671,3007.1047 L2385.0671,2963.4805 " fill="#E2E2F0" style="stroke:#181818;stroke-width:2.5167785234899327;"/><path d="M2385.0671,2963.4805 C2385.0671,2980.259 2415.2685,2980.259 2415.2685,2980.259 C2415.2685,2980.259 2445.4698,2980.259 2445.4698,2963.4805 " fill="none" style="stroke:#181818;stroke-width:2.5167785234899327;"/><rect fill="#FFFFFF" height="201.1129" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="203.0201" y="367.217"/><rect fill="#FFFFFF" height="100.5564" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="412.7517" y="467.7734"/><rect fill="#FFFFFF" height="99.5143" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="412.7517" y="2645.6618"/><rect fill="#FFFFFF" height="2131.174" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="714.7651" y="759.3396"/><rect fill="#FFFFFF" height="50.3356" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="723.1544" y="2694.8406"/><rect fill="#FFFFFF" height="2131.174" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="972.3154" y="759.3396"/><rect fill="#FFFFFF" height="1936.1367" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1233.2215" y="905.1981"/><rect fill="#FFFFFF" height="49.1788" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1486.5772" y="954.3768"/><rect fill="#FFFFFF" height="49.1788" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1486.5772" y="1454.5538"/><rect fill="#FFFFFF" height="49.1788" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1486.5772" y="2437.2018"/><rect fill="#FFFFFF" height="213.4936" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1656.8792" y="1613.8351"/><rect fill="#FFFFFF" height="49.1788" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1808.7248" y="2068.8247"/><rect fill="#FFFFFF" height="1600.7957" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="1991.6107" y="1217.0492"/><rect fill="#FFFFFF" height="596.8566" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2000" y="1266.228"/><rect fill="#FFFFFF" height="262.6724" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2000" y="2298.0547"/><rect fill="#FFFFFF" height="197.8719" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2000" y="2596.4831"/><rect fill="#FFFFFF" height="147.5363" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2216.443" y="1405.375"/><rect fill="#FFFFFF" height="147.5363" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2216.443" y="2388.023"/><rect fill="#FFFFFF" height="1551.6169" style="stroke:#181818;stroke-width:1.6778523489932884;" width="16.7785" x="2406.8792" y="1266.228"/><polygon fill="#181818" points="182.8859,360.5056,199.6644,367.217,182.8859,373.9284,189.5973,367.217" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="53.6913" x2="192.953" y1="367.217" y2="367.217"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="73.8255" x="65.4362" y="307.8826">Submit</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="104.0268" x="65.4362" y="333.5715">command</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="117.4497" x="65.4362" y="359.2603">parameters</text><polygon fill="#181818" points="392.6174,461.062,409.396,467.7734,392.6174,474.4848,399.3289,467.7734" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="219.7987" x2="402.6846" y1="467.7734" y2="467.7734"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="161.0738" x="231.5436" y="408.4391">Send command</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="134.2282" x="231.5436" y="434.1279">[MassTransit</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="154.3624" x="231.5436" y="459.8167">DTO envelope]</text><polygon fill="#181818" points="703.0201,561.6185,719.7987,568.3299,703.0201,575.0413,709.7315,568.3299" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;stroke-dasharray:2.0,2.0;" x1="421.1409" x2="713.0872" y1="568.3299" y2="568.3299"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="161.0738" x="432.8859" y="508.9955">Send command</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="134.2282" x="432.8859" y="534.6844">[MassTransit</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="154.3624" x="432.8859" y="560.3732">DTO envelope]</text><text fill="#000000" font-family="D-DIN" font-size="18.4564" lengthAdjust="spacing" textLength="5.0336" x="1231.9631" y="623.0862">&#160;</text><text fill="#000000" font-family="D-DIN" font-size="18.4564" lengthAdjust="spacing" textLength="5.0336" x="1231.9631" y="644.8229">&#160;</text><polygon fill="#181818" points="952.1812,752.6282,968.9597,759.3396,952.1812,766.051,958.8926,759.3396" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;stroke-dasharray:2.0,2.0;" x1="731.5436" x2="962.2483" y1="759.3396" y2="759.3396"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="209.7315" x="743.2886" y="700.0052">Consume command</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="134.2282" x="743.2886" y="725.6941">[MassTransit</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="154.3624" x="743.2886" y="751.3829">DTO envelope]</text><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="989.094" x2="1059.5638" y1="834.2072" y2="834.2072"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1059.5638" x2="1059.5638" y1="834.2072" y2="856.0193"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="990.7718" x2="1059.5638" y1="856.0193" y2="856.0193"/><polygon fill="#181818" points="1007.5503,849.3079,990.7718,856.0193,1007.5503,862.7307,1000.8389,856.0193" style="stroke:#181818;stroke-width:1.6778523489932884;"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="213.0872" x="1000.8389" y="800.5617">Unwrap MassTransit</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="182.8859" x="1000.8389" y="826.2505">ConsumeContext</text><polygon fill="#181818" points="1213.0872,898.4867,1229.8658,905.1981,1213.0872,911.9095,1219.7987,905.1981" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="989.094" x2="1223.1544" y1="905.1981" y2="905.1981"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="161.0738" x="1000.8389" y="897.2414">Command DTO</text><polygon fill="#181818" points="1466.443,947.6654,1483.2215,954.3768,1466.443,961.0882,1473.1544,954.3768" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1250" x2="1476.5101" y1="954.3768" y2="954.3768"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="161.0738" x="1261.745" y="946.4201">Command DTO</text><polygon fill="#181818" points="1268.4564,996.8442,1251.6779,1003.5556,1268.4564,1010.267,1261.745,1003.5556" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1258.3893" x2="1493.2886" y1="1003.5556" y2="1003.5556"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="196.3087" x="1278.5235" y="995.5989">Domain Command</text><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1250" x2="1320.4698" y1="1120.3695" y2="1120.3695"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1320.4698" x2="1320.4698" y1="1120.3695" y2="1142.1816"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1251.6779" x2="1320.4698" y1="1142.1816" y2="1142.1816"/><polygon fill="#181818" points="1268.4564,1135.4702,1251.6779,1142.1816,1268.4564,1148.893,1261.745,1142.1816" style="stroke:#181818;stroke-width:1.6778523489932884;"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="213.0872" x="1261.745" y="1086.724">EventStream Id from</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="196.3087" x="1261.745" y="1112.4128">Domain Command</text><polygon fill="#181818" points="1971.4765,1210.3378,1988.255,1217.0492,1971.4765,1223.7606,1978.1879,1217.0492" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1250" x2="1981.5436" y1="1217.0492" y2="1217.0492"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="176.1745" x="1261.745" y="1183.4037">Get current state</text><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="192.953" x="1261.745" y="1209.0925">for EventStream Id</text><polygon fill="#181818" points="2386.745,1259.5166,2403.5235,1266.228,2386.745,1272.9394,2393.4564,1266.228" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="2016.7785" x2="2396.8121" y1="1266.228" y2="1266.228"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="110.7383" x="2028.5235" y="1258.2713">Get events</text><polygon fill="#181818" points="2035.2349,1308.6953,2018.4564,1315.4067,2035.2349,1322.1182,2028.5235,1315.4067" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="2025.1678" x2="2405.2013" y1="1315.4067" y2="1315.4067"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="151.0067" x="2045.302" y="1307.4501">Event DTO list</text><path d="M1394.2953,1340.5745 L1518.4564,1340.5745 L1518.4564,1352.8406 L1501.6779,1369.6191 L1394.2953,1369.6191 L1394.2953,1340.5745 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.5167785234899327;"/><rect fill="none" height="225.7596" style="stroke:#000000;stroke-width:2.5167785234899327;" width="954.698" x="1394.2953" y="1340.5745"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" font-weight="bold" lengthAdjust="spacing" textLength="48.6577" x="1419.4631" y="1363.3402">loop</text><text fill="#000000" font-family="D-DIN" font-size="18.4564" font-weight="bold" lengthAdjust="spacing" textLength="197.9866" x="1543.6242" y="1361.7738">[for each event DTO]</text><polygon fill="#181818" points="2196.3087,1398.6636,2213.0872,1405.375,2196.3087,1412.0864,2203.0201,1405.375" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="2016.7785" x2="2206.3758" y1="1405.375" y2="1405.375"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="110.7383" x="2028.5235" y="1397.4183">Event DTO</text><polygon fill="#181818" points="1521.8121,1447.8424,1505.0336,1454.5538,1521.8121,1461.2652,1515.1007,1454.5538" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1511.745" x2="2214.7651" y1="1454.5538" y2="1454.5538"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="110.7383" x="1531.8792" y="1446.5971">Event DTO</text><polygon fill="#181818" points="2196.3087,1497.0212,2213.0872,1503.7326,2196.3087,1510.444,2203.0201,1503.7326" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1494.9664" x2="2206.3758" y1="1503.7326" y2="1503.7326"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="145.9732" x="1506.7114" y="1495.7759">Domain Event</text><polygon fill="#181818" points="2035.2349,1546.1999,2018.4564,1552.9113,2035.2349,1559.6227,2028.5235,1552.9113" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="2025.1678" x2="2223.1544" y1="1552.9113" y2="1552.9113"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="145.9732" x="2045.302" y="1544.9546">Domain Event</text><polygon fill="#181818" points="1692.1141,1607.1237,1675.3356,1613.8351,1692.1141,1620.5465,1685.4027,1613.8351" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1682.047" x2="1998.3221" y1="1613.8351" y2="1613.8351"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="161.0738" x="1702.1812" y="1605.8784">Get initial state</text><polygon fill="#181818" points="1979.8658,1656.3024,1996.6443,1663.0138,1979.8658,1669.7253,1986.5772,1663.0138" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1673.6577" x2="1989.9329" y1="1663.0138" y2="1663.0138"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="201.3423" x="1685.4027" y="1655.0572">state = initial state</text><path d="M1578.8591,1688.1816 L1703.0201,1688.1816 L1703.0201,1700.4476 L1686.2416,1717.2262 L1578.8591,1717.2262 L1578.8591,1688.1816 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.5167785234899327;"/><rect fill="none" height="127.4021" style="stroke:#000000;stroke-width:2.5167785234899327;" width="538.5906" x="1578.8591" y="1688.1816"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" font-weight="bold" lengthAdjust="spacing" textLength="48.6577" x="1604.0268" y="1710.9473">loop</text><text fill="#000000" font-family="D-DIN" font-size="18.4564" font-weight="bold" lengthAdjust="spacing" textLength="260.0671" x="1728.1879" y="1709.3809">[for each domain event evt]</text><polygon fill="#181818" points="1692.1141,1746.2707,1675.3356,1752.9821,1692.1141,1759.6935,1685.4027,1752.9821" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1682.047" x2="1998.3221" y1="1752.9821" y2="1752.9821"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="186.2416" x="1702.1812" y="1745.0254">evt |&gt; apply state</text><polygon fill="#181818" points="1979.8658,1795.4495,1996.6443,1802.1609,1979.8658,1808.8723,1986.5772,1802.1609" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1673.6577" x2="1989.9329" y1="1802.1609" y2="1802.1609"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="52.0134" x="1685.4027" y="1794.2042">state</text><polygon fill="#181818" points="1268.4564,1856.3732,1251.6779,1863.0846,1268.4564,1869.796,1261.745,1863.0846" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1258.3893" x2="1989.9329" y1="1863.0846" y2="1863.0846"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="52.0134" x="1278.5235" y="1855.1279">State</text><rect fill="#EEEEEE" height="5.0336" style="stroke:#EEEEEE;stroke-width:1.6778523489932884;" width="2489.9329" x="0" y="1995.0566"/><line style="stroke:#000000;stroke-width:1.6778523489932884;" x1="0" x2="2489.9329" y1="1995.0566" y2="1995.0566"/><line style="stroke:#000000;stroke-width:1.6778523489932884;" x1="0" x2="2489.9329" y1="2000.0901" y2="2000.0901"/><rect fill="#EEEEEE" height="39.1117" style="stroke:#000000;stroke-width:3.355704697986577;" width="350.6711" x="1069.6309" y="1977.1786"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" font-weight="bold" lengthAdjust="spacing" textLength="320.4698" x="1079.698" y="2004.9778">Domain Command Handling</text><polygon fill="#181818" points="1788.5906,2062.1133,1805.3691,2068.8247,1788.5906,2075.5361,1795.302,2068.8247" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1250" x2="1798.6577" y1="2068.8247" y2="2068.8247"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="270.1342" x="1261.745" y="2060.868">Handle domain command</text><polygon fill="#181818" points="1268.4564,2111.2921,1251.6779,2118.0035,1268.4564,2124.7149,1261.745,2118.0035" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1258.3893" x2="1815.4362" y1="2118.0035" y2="2118.0035"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="206.3758" x="1278.5235" y="2110.0468">New domain events</text><rect fill="#EEEEEE" height="5.0336" style="stroke:#EEEEEE;stroke-width:1.6778523489932884;" width="2489.9329" x="0" y="2153.2384"/><line style="stroke:#000000;stroke-width:1.6778523489932884;" x1="0" x2="2489.9329" y1="2153.2384" y2="2153.2384"/><line style="stroke:#000000;stroke-width:1.6778523489932884;" x1="0" x2="2489.9329" y1="2158.2719" y2="2158.2719"/><polygon fill="#181818" points="1979.8658,2291.3433,1996.6443,2298.0547,1979.8658,2304.7661,1986.5772,2298.0547" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1250" x2="1989.9329" y1="2298.0547" y2="2298.0547"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="156.0403" x="1261.745" y="2290.098">Append events</text><path d="M1394.2953,2323.2225 L1518.4564,2323.2225 L1518.4564,2335.4885 L1501.6779,2352.2671 L1394.2953,2352.2671 L1394.2953,2323.2225 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.5167785234899327;"/><rect fill="none" height="225.7596" style="stroke:#000000;stroke-width:2.5167785234899327;" width="954.698" x="1394.2953" y="2323.2225"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" font-weight="bold" lengthAdjust="spacing" textLength="48.6577" x="1419.4631" y="2345.9882">loop</text><text fill="#000000" font-family="D-DIN" font-size="18.4564" font-weight="bold" lengthAdjust="spacing" textLength="224.8322" x="1543.6242" y="2344.4218">[for each domain event]</text><polygon fill="#181818" points="2196.3087,2381.3116,2213.0872,2388.023,2196.3087,2394.7344,2203.0201,2388.023" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="2016.7785" x2="2206.3758" y1="2388.023" y2="2388.023"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="145.9732" x="2028.5235" y="2380.0663">Domain Event</text><polygon fill="#181818" points="1521.8121,2430.4904,1505.0336,2437.2018,1521.8121,2443.9132,1515.1007,2437.2018" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1511.745" x2="2214.7651" y1="2437.2018" y2="2437.2018"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="145.9732" x="1531.8792" y="2429.2451">Domain Event</text><polygon fill="#181818" points="2196.3087,2479.6691,2213.0872,2486.3806,2196.3087,2493.092,2203.0201,2486.3806" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1494.9664" x2="2206.3758" y1="2486.3806" y2="2486.3806"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="110.7383" x="1506.7114" y="2478.4239">Event DTO</text><polygon fill="#181818" points="2035.2349,2528.8479,2018.4564,2535.5593,2035.2349,2542.2707,2028.5235,2535.5593" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="2025.1678" x2="2223.1544" y1="2535.5593" y2="2535.5593"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="110.7383" x="2045.302" y="2527.6026">Event DTO</text><polygon fill="#181818" points="1979.8658,2589.7717,1996.6443,2596.4831,1979.8658,2603.1945,1986.5772,2596.4831" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="1250" x2="1989.9329" y1="2596.4831" y2="2596.4831"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="46.9799" x="1261.745" y="2588.5264">Save</text><polygon fill="#181818" points="447.9866,2638.9504,431.2081,2645.6618,447.9866,2652.3732,441.2752,2645.6618" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="437.9195" x2="1998.3221" y1="2645.6618" y2="2645.6618"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="231.5436" x="458.0537" y="2637.7051">Publish events (DTOs)</text><polygon fill="#181818" points="703.0201,2688.1292,719.7987,2694.8406,703.0201,2701.552,709.7315,2694.8406" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="429.5302" x2="713.0872" y1="2694.8406" y2="2694.8406"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="244.9664" x="441.2752" y="2686.8839">Publish (DTO envelope)</text><polygon fill="#181818" points="2386.745,2787.6435,2403.5235,2794.3549,2386.745,2801.0664,2393.4564,2794.3549" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;" x1="2008.3893" x2="2396.8121" y1="2794.3549" y2="2794.3549"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="234.8993" x="2020.1342" y="2786.3983">Append events (DTOs)</text><polygon fill="#181818" points="1268.4564,2811.1335,1251.6779,2817.8449,1268.4564,2824.5563,1261.745,2817.8449" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;stroke-dasharray:2.0,2.0;" x1="1258.3893" x2="1998.3221" y1="2817.8449" y2="2817.8449"/><polygon fill="#181818" points="1007.5503,2834.6234,990.7718,2841.3348,1007.5503,2848.0462,1000.8389,2841.3348" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;stroke-dasharray:2.0,2.0;" x1="997.4832" x2="1239.9329" y1="2841.3348" y2="2841.3348"/><polygon fill="#181818" points="741.6107,2883.8022,724.8322,2890.5136,741.6107,2897.225,734.8993,2890.5136" style="stroke:#181818;stroke-width:1.6778523489932884;"/><line style="stroke:#181818;stroke-width:1.6778523489932884;stroke-dasharray:2.0,2.0;" x1="731.5436" x2="979.0268" y1="2890.5136" y2="2890.5136"/><text fill="#000000" font-family="D-DIN" font-size="21.8121" lengthAdjust="spacing" textLength="36.9128" x="751.6779" y="2882.5569">ack</text><text fill="#888888" font-family="D-DIN" font-size="16.7785" lengthAdjust="spacing" textLength="92.2819" x="2395.9732" y="3128.9521">Version 0.1</text><!--SRC=[hLTRJzim57xthpZgNjX3EpPfBzKwYG5ZFC0gbUs58EGcflL8xCnsof3uyJknazREfIqLbTh4b_ETstUENVt8HKuLpI1X3xH8pNSfp3ND60pEXcUNrmEYrplcD7vSA5c8v5IcKi6xS_iXEgOfWq-VZu_XYITcIOZX1cTEPS9WY8yieoA19VwaN2o8uekbWGSf3LFmcodDfO3ZqKT2K8_XCS-fC30uJJaJPW1KGsnVoRpKJTKp34wcbtQ1vfp4QB6IAGnkfr8P_U4aeJaYwxj8HEAAQKqN3BuLEXBLYfNCtCAyqFVKJPE_1IlGRq-aiTDJTPBdAO-fGTD7LrJh6qM5vYRGUIg5Bh9QdxcFgt4tZ1MzO88f7aUY3jhPpSz8sCXLE8cHzzKu3DVjcSmeTp0e1LSqppsPp0xxHMQ66XQ9gP9_M5pQOoLrENkVhoS9fe6Rvr3qPB5GR84RNKhgqVR4dAyGQcQaOc5UM3clo_brNaARTs3PTzzv3z2-Le58gA5pgZ7V6-d6Va8Sxs3ujIJQ66R5FECc4h5BJkJgWfLs48hnMQ7NbfBuBONQ74CCXbbT0znwt75fOsB5KfcpkmrY1rNRKp0C5Bv6KSAsgV9MIzV8Q3I2I00-2F583L-6mq1_nVw3VVNclDBnDPOERuPZ-2MU5CqXK5DPWG_3_fcck5TCO_1AZcoK-_NclTVIZasXS21RqyqJ_J8CH5qbrGX-l3tvbvSNqgL_RNt5OiMmKLycyA1aXa5kG8VoxL8RmmKp41TAbRJNhYKyOAiFqJSUTbHhUohKvNIuyLQWZZKFlCy1L_ybkrAk3KcbpA7q0AEwT08sHu2VNPRw_S83jh9TXlljfO7lBJMPquFhvNuBLZULBAGLwoPJZ_C8rkVyDk2U263x8JraQ9ugZX9SSCDfwbOtsMyVGPsMjp7j34mQk24X4kUNumLRcIsyQ2l0_V1I7Wrv-boXzqUsnpuR9Y-OBM-RdQEBy_Ri9jqfgQl9Tf3oEvaqEWxyg2vcC9cut8PjOdsWZzrELaUjwkmXRpV7VnCAZVUWhjbJ47tTfDK622r6oshxz-bYUAqgJxyzcam_7Gve4QqgURikqGzzKAC8cyvRTObUr2qjOWThzqZsZAxO0ITIr-LiMipnrAZE2Gr7w8f-_-gBM7WFgp6F_1jF9-Z-5p5FPe_pDgY6sgbTWU-23UySko0wLniP3QzmpRlFMb5mRMl45_-K1g7nu7f2zXy0]--></g></svg>